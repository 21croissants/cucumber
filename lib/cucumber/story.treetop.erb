grammar Story
  rule story
    header narrative scenario_nodes:scenario* <Cucumber::Story>
  end

  rule header
    'Story: ' sentence_line <Cucumber::Header>
  end

  rule narrative
    'As a' sentence_line
  end

  rule scenario
    'Scenario: ' sentence_line step_nodes:(step)* <Cucumber::Scenario>
  end

  rule step
    ('Given ' / 'When ' / 'Then ') sentence_line <Cucumber::Step>
  end

  rule sentence_line
    (!eol .)* eol
  end

  rule eol
    "\n" / eof
  end
  
  rule eof
    !.
  end
end

grammar Story
  rule story
    header narrative scenario_nodes:scenario* <Stories::Story>
  end

  rule header
    'Story: ' sentence_line <Stories::Header>
  end

  rule narrative
    'As a' sentence_line
  end

  rule scenario
    'Scenario: ' sentence_line step_nodes:(step)* <Stories::Scenario>
  end

  rule step
    'Given ' sentence_line <Stories::Step>
  end

  rule sentence_line
    (!eol .)* eol
  end

  rule eol
    "\n" / eof
  end
  
  rule eof
    !.
  end
end
